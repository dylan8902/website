class ReadingController < ApplicationController
  
  # GET /reading
  # GET /reading.json
  def index
    Project.find(52).hit
    
    @levels = [1,2,3,4]
    @focus = {"1"=>{"title"=>"Use a range of strategies, including accurate decoding of text, to read for meaning","level"=>{"4"=>{"title"=>"","points"=>[]},"3"=>{"title"=>"In most reading:","points"=>["range of strategies used mostly effectively to read with fluency, understanding and expression"]},"2"=>{"title"=>"In some reading:","points"=>["range of key words read on sight","unfamiliar words decoded using appropriate strategies, eg. blending sounds","some fluency and expression, eg. taking account of speech marks"]},"1"=>{"title"=>"In some reading, usually with support:","points"=>["some high frequency and familiar words read fluently and automatically","decode familiar and some unfamiliar words using blending as the prime approach","some awareness of punctuation marks, eg. Pausing at full stops"]}}},"2"=>{"title"=>"Understand, describe, select or retrieve information, events or ideas from texts and use quotation and reference to text","level"=>{"4"=>{"title"=>"Across a range of reading:","points"=>["some relevant points identified","comments supported by some generally relevant textual reference or quotation, eg. reference is made to appropriate section of text but is unselective and lacks focus"]},"3"=>{"title"=>"In most reading:","points"=>["simple, most obvious points identified though there may also be some misunderstanding, eg. about information from different places in the text","some comments include quotations from or references to text, butnot always relevant, eg. often retelling or paraphrasing sections of the text rather than using it to support comment"]},"2"=>{"title"=>"In some reading:","points"=>["some specific, straightforward information recalled, eg. names of characters, main ingredients","generally clear idea of where to look for information, eg. about characters, topics"]},"1"=>{"title"=>"In some reading, usually with support:","points"=>["some simple points from familiar texts recalled","some pages\/sections of interest locate, eg. Favourite characters\/events\/information\/pictures"]}}},"3"=>{"title"=>"Deduce, infer or interpret information, events or ideas from texts","level"=>{"4"=>{"title"=>"Across a range of reading:","points"=>["comments make inferences based on evidence from different points in the text, eg. interpreting a character's motive from their actions at different points","inferences often correct, but comments are not always rooted securely in the text or repeat narrative or content"]},"3"=>{"title"=>"In most reading:","points"=>["straightforward inference based on a single point of reference in the text, eg. 'he was upsetbecause it says 'he was crying'","responses to text show meaning established at a literal level eg. 'walking good' means' walking carefully' or based on personal speculation eg. a response based on what they personally would be feeling rather than feelings of character in the text"]},"2"=>{"title"=>"In some reading:","points"=>["simple, plausible inference about events and information, using evidence from text eg. how a character isfeeling, what makes a plant grow","comments based on textual cues, sometimes misunderstood"]},"1"=>{"title"=>"In some reading, usually with support:","points"=>["reasonable inference at a basic level, eg. identifying who is speaking in a story","comments\/questions about meaning of parts of text, eg. details of illustrations diagrams, changes in font style"]}}},"4"=>{"title"=>"Identify and comment on the structure and organisation of texts, including grammatical and presentational features at text level","level"=>{"4"=>{"title"=>"Across a range of reading:","points"=>["some structural choices identified with simple comment, eg. 'he describes the accident first and then goes back to tell you why the child was in the road'","some basic features of organisation at text level identified, eg. 'the writer uses bullet points for the main reasons'"]},"3"=>{"title"=>"In most reading:","points"=>["a few basic features of organisation at text level identified, with little or no linked comment,eg. 'it tells about all the different things you can do at the zoo'"]},"2"=>{"title"=>"In some reading:","points"=>["some awareness of use of features of organisation, eg. beginning and ending of story, types of punctuation"]},"1"=>{"title"=>"In some reading, usually with support:","points"=>["some awareness of meaning of simple text features, eg. font style, labels, titles"]}}},"5"=>{"title"=>"Explain and comment on writers' use of language, including grammatical and literary features at word and sentence level","level"=>{"4"=>{"title"=>"Across a range of reading:","points"=>["some basic features of writer's use of language identified, eg. 'all the questions make you want to find out what happens next'","simple comments on writer's choices,eg. 'disgraceful' is a good word to use to show he is upset'"]},"3"=>{"title"=>"In most reading:","points"=>["a few basic features of writer's use of language identified, but with little or no comment, eg. 'there are lots of adjectives' or 'he uses speech marks to show there are lots of people there'"]},"2"=>{"title"=>"In some reading:","points"=>["some effective language choices noted, eg. 'slimy' is a good word there'","some familiar patterns oflanguage identified, eg. once upon a time; first, next, last"]},"1"=>{"title"=>"In some reading, usually with support:","points"=>["comments on obvious features of language, eg. rhymes and refrains, significant words and phrases"]}}},"6"=>{"title"=>"Identify and comment on writers' purposes and viewpoints, and the overall effect of the text on the reader","level"=>{"4"=>{"title"=>"Across a range of reading:","points"=>["main purpose identified, eg. 'it's all about why going to the dentist is important and how you should look after your teeth'","simple comments show some awareness of writer's viewpoint, eg. 'he only tells you good things about the farm and makes the shop sound boring'","simple comment on overall effect on reader, eg. 'the way she describes him as 'ratlike' and 'shifty' makes you think he's disgusting'"]},"3"=>{"title"=>"In most reading:","points"=>["comments identify main purpose, eg. 'the writer doesn't like violence'","response but with little awareness of writer's viewpoint or effect on reading, eg. 'she was just horrible like my nan is sometimes'"]},"2"=>{"title"=>"In some reading:","points"=>["some awareness that writers have viewpoints and purposes, eg. 'it tells you how to do something', she thinks it's not fair'","simple statements about likes and dislikes in reading, sometimes with reasons"]},"1"=>{"title"=>"In some reading, usually with support:","points"=>["some simple comments about preferences, mostly linked to own experience"]}}},"7"=>{"title"=>"relate texts to their social, cultural and historical traditions","level"=>{"4"=>{"title"=>"Across a range of reading:","points"=>["features common to different texts or versions of the same text identified, with simple comment, eg. characters, settings, presentational features","simple comment on the effect that the reader's or writer's context has on the meaning of texts, eg. historical context, place, social relationships"]},"3"=>{"title"=>"In most reading:","points"=>["some simple connections between texts identified, eg. similarities in plot, topic, or books by same author, about same characters","recognition of some features of the context of texts, eg. historical setting, social or cultural background"]},"2"=>{"title"=>"In some reading:","points"=>["general features of a few text types identified, eg. information books, stories, print media","some awareness that books are set in different times and places"]},"1"=>{"title"=>"In some reading, usually with support:","points"=>["a few basic features of well-known story and information texts distinguished eg. what typically happens to good and bad characters, differences between type of text in which photos or drawings used"]}}}}

    unless params[:af].nil?
      
      @table = Array.new
      params[:af].each do |af|
        params[:level].each do |level|
          @table << { "af" => af, "level" => level, "row" => @focus[af]['level'][level] }
        end
      end
      render "print", :layout => false
      
    else

      respond_to do |format|
        format.html # index.html.erb
        format.json { render json: @projects, :callback => params[:callback] }
        format.xml { render xml: @projects }
      end
      
    end
  end

end