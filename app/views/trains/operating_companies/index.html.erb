<% provide(:title, 'Trains:: Operating Companies') %>
<% provide(:description, 'Browse UK train operating companies, see what routes they run and types of trains they use.') %>

<h1>Train Operating Companies</h1>

<ol class="breadcrumb">
	<li><%= link_to "Trains", trains_root_path %></li>
	<li><%= link_to 'Journeys', trains_journeys_path, title: "Your Train Journeys" %></li>
	<li><%= link_to "Schedules", trains_schedules_path %></li>
	<li><%= link_to "Locations", trains_locations_path %></li>
	<li>Companies</li>
</ol>


<%= form_tag(trains_operating_companies_path, :method => "get", :class => "text-center") do %>
	<div class="input-append well">
		<%= text_field_tag(:q, @from, class: "form-control", placeholder: "Search for a company", autofocus: true, value: @q) %>
	</div>
<% end %>

<% unless @operating_companies.nil? %>

	<p>
		<%= pluralize @operating_companies.total_entries, 'company' %> found
	</p>

	<% if @operating_companies.size > 0 %>
	<table class="table table-bordered table-striped">
		<thead>
			<tr>
				<th>ID</th>
				<th>Name</th>
				<th>Business Code</th>
				<th>Numeric Code</th>
				<th>ATOC</th>
			</tr>
		</thead>
		<tbody>
			<% @operating_companies.each do |company| %>
			<tr>
				<td><%= company.id %></td>
				<td><%= link_to company.name, company %></td>
				<td><%= company.business_code %></td>
				<td><%= company.numeric_code %></td>
				<td><%= company.atoc %></td>
			</tr>
			<% end %>
		</tbody>
	</table>

	<%= paginate @operating_companies %>

	<% end %>

<% end %>
